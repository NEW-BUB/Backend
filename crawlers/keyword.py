import re
from collections import Counter
from soynlp.word import WordExtractor
from soynlp.noun import LRNounExtractor

def extract_keywords(text, top_n=10):
    """
    í•œêµ­ì–´ í…ìŠ¤íŠ¸ì—ì„œ ëª…ì‚¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ (soynlp ì‚¬ìš©)

    Args:
        text (str): í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•  í…ìŠ¤íŠ¸
        top_n (int): ë°˜í™˜í•  ìƒìœ„ í‚¤ì›Œë“œ ê°œìˆ˜

    Returns:
        list: (í‚¤ì›Œë“œ, ë¹ˆë„ìˆ˜) íŠœí”Œì˜ ë¦¬ìŠ¤íŠ¸
    """
    # í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬
    text = text.lower()  # ì†Œë¬¸ì ë³€í™˜
    text = re.sub(r'[^\w\s]', ' ', text)  # íŠ¹ìˆ˜ë¬¸ì ì œê±°

    # í•œêµ­ì–´ ë¶ˆìš©ì–´ ëª©ë¡ (í•„ìš”ì— ë”°ë¼ í™•ì¥ ê°€ëŠ¥)
    stopwords = [
        'ì´', 'ê·¸', 'ì €', 'ê²ƒ', 'ì´ê²ƒ', 'ê·¸ê²ƒ', 'ì €ê²ƒ',
        'ë‚˜', 'ë„ˆ', 'ìš°ë¦¬', 'ë‹¹ì‹ ', 'ê·¸ë“¤', 'ì €í¬', 'ìê¸°',
        'ì´ëŸ°', 'ê·¸ëŸ°', 'ì €ëŸ°', 'ì´ë ‡ê²Œ', 'ê·¸ë ‡ê²Œ', 'ì €ë ‡ê²Œ',
        'ë°', 'ì—', 'ì˜', 'ì„', 'ë¥¼', 'ì´', 'ê°€', 'ì€', 'ëŠ”',
        'ë¡œ', 'ìœ¼ë¡œ', 'ì—ì„œ', 'ì—ê²Œ', 'í•œí…Œ', 'ê»˜', 'ì™€', 'ê³¼',
        'ì´ë‚˜', 'ë‚˜', 'ë‘', 'í•˜ê³ ', 'ê¹Œì§€', 'ë¶€í„°', 'ë„', 'ë§Œ',
        'ë°', 'ê°™ì€', 'ê°™ì´', 'ì²˜ëŸ¼', 'ë³´ë‹¤', 'ë¼ê³ ', 'í•˜ë‹¤', 'ì„',
        'ìˆë‹¤', 'ì—†ë‹¤', 'ë˜ë‹¤', 'í•˜ë‹¤', 'ë•Œë¬¸', 'ë•Œ', 'ë‚´', 'ê·¸ëƒ¥'
    ]

    # ëª…ì‚¬ ì¶”ì¶œê¸° í•™ìŠµ (ë¬¸ì„œê°€ ì¶©ë¶„íˆ í¬ë‹¤ë©´ ì‚¬ìš©)
    if len(text) > 500:  # í…ìŠ¤íŠ¸ê°€ ì¶©ë¶„íˆ ê¸´ ê²½ìš°ì—ë§Œ í•™ìŠµ
        noun_extractor = LRNounExtractor()
        nouns = noun_extractor.extract([text])
        nouns = nouns.keys()
    else:
        # í…ìŠ¤íŠ¸ê°€ ì§§ì€ ê²½ìš° WordExtractor ì‚¬ìš©
        word_extractor = WordExtractor()
        words = word_extractor.extract([text]).keys()

        # ëª…ì‚¬ í›„ë³´ í•„í„°ë§ (ê°„ë‹¨í•œ íœ´ë¦¬ìŠ¤í‹±)
        nouns = []
        for word in words:
            if len(word) > 1 and not any(char.isdigit() for char in word):
                nouns.append(word)

    # ë‹¨ì¼ ê¸€ì ëª…ì‚¬ì™€ ë¶ˆìš©ì–´ ì œê±°
    filtered_nouns = [noun for noun in nouns if noun not in stopwords and len(noun) > 1]

    # ë¹ˆë„ìˆ˜ ê³„ì‚°
    noun_counter = Counter(filtered_nouns)

    # ìƒìœ„ í‚¤ì›Œë“œ ì¶”ì¶œ
    top_keywords = noun_counter.most_common(top_n)

    return top_keywords


def get_news_keyword(text, stopwords=None, count=1):
    """
    í•œêµ­ì–´ í…ìŠ¤íŠ¸ì—ì„œ ëª…ì‚¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ (krwordrank.word ì‚¬ìš©)

    Args:
        text (str): í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•  í…ìŠ¤íŠ¸
        stopwords (list): í‚¤ì›Œë“œ ë¶ˆìš©ì–´ ë¦¬ìŠ¤íŠ¸íŠ¸
        count (list): ì¶”ì¶œí•  í‚¤ì›Œë“œì˜ ìµœì†Œ ë¹ˆë„ íšŸìˆ˜

    Returns:
        list: (í‚¤ì›Œë“œ, ì ìˆ˜) íŠœí”Œì˜ ë¦¬ìŠ¤íŠ¸
    """
    try:
        from krwordrank.word import summarize_with_keywords
        import pandas as pd

        if text is "X":
            return

        if stopwords is None:
            stopwords = []

        # ğŸ”¸ ê¸°ë³¸ ë¶ˆìš©ì–´ ì„¤ì •
        stopwords += [
            'ìˆë‹¤', 'í•œë‹¤', 'ìœ„í•´', 'ëŒ€í•œ', 'í†µí•´', 'ë°', 'ë“±', 'ì œ', 'ì˜', 'ìˆëŠ”',
            'í•˜ë©°', 'í•˜ê³ ', 'ì—ì„œ', 'ìœ¼ë¡œ', 'ê·¸ë¦¬ê³ ', 'ê·¸', 'ìœ„í•œ', 'ë„ë‚´', 'ì´ì „',
            'ì§€ë‚œ', 'ë‚´ë…„', 'ìˆìŒì„', 'ê·¸ëŠ”', 'í•˜ëŠ”', 'ê·¸ì˜', 'ì´í›„', 'í–ˆë‹¤', 'ê·¸ë…€',
            'ì €', 'ì´ëŸ°', 'ìµœê·¼', 'ë•Œë¬¸', 'ê´€ë ¨', 'ë‹¤ë¥¸', 'í•œ', 'ì´ë‹¤', 'í•˜ë‹¤', 'ì„',
            'ë¥¼', 'ì´', 'ê°€', 'ë“¤', 'ì™€', 'ê³¼', 'íŠ¹íˆ', 'ì¶œì‹œ', 'êµ­ë‚´', 'ìµœì‹ ', 'í•¨ê»˜',
            'ê°™ì´', 'í•˜ì§€ë§Œ', 'ê·¸ëŸ¬ë‚˜', 'ë”°ë¼ì„œ', 'ê²Œë‹¤ê°€', 'ë˜ëŠ”', 'ë¿ë§Œ ì•„ë‹ˆë¼',
            'ì´ë¼ë©´', 'ì´ë¼ì„œ', 'ì˜€ìœ¼ë©°', 'í–ˆë˜', 'ë•Œë¬¸ì—', 'ë“±ì„', 'ì˜í•´', 'ìœ¼ë¡œì¨',
            'ë§¤ìš°', 'êµ‰ì¥íˆ', 'ì•„ì£¼', 'ì˜', 'ì¡°ê¸ˆ', 'ì¢€', 'ê°™ì€', 'ì •ë§', 'ë§ì€', 'ëª¨ë“ ',
            'ì„œë¡œ', 'ì˜¤ëŠ˜', 'ë‚´ì¼', 'ì–´ì œ', 'ì§€ê¸ˆ', 'í˜„ì¬', 'ë‹¤ê°€ì˜¤ëŠ”', 'ì•ìœ¼ë¡œ', 'ì§€ë‚œë²ˆ',
            'ì˜¬í•´', 'ìš°ë¦¬', 'ë„ˆí¬', 'ë„ˆ', 'ì €í¬', 'ìì‹ ', 'ëˆ„êµ¬', 'ê°ì', 'ëª¨ë“  ì‚¬ëŒ',
            'ì‚¬ëŒë“¤', 'ê·¸ê²ƒ', 'ì–´ë–»ê²Œ', 'ë¬´ì—‡', 'ì™œ', 'ë‹¤ì‹œ', 'ê±°ê¸°', 'ì €ê¸°', 'ì—¬ê¸°', 'ê±°ì˜',
            'ëŒ€ë¶€ë¶„', 'ë‹¹ì‹œ', 'ê·¸ë‚ ', 'ë‹¤ìŒ', 'ê·¸ë•Œ', 'ì´ë²ˆ', 'ì–¸ì œë‚˜', 'í•­ìƒ', 'ìì£¼',
            'ê°€ë”', 'ì¢…ì¢…', 'í•œë²ˆ', 'ì •ë„', 'ì•½ê°„', 'ëŒ€ëµ', 'ì™„ì „íˆ', 'ì „í˜€', 'ë”ë¶ˆì–´',
            'ì‹¬ì§€ì–´', 'ë”êµ¬ë‚˜', 'í™•ì‹¤íˆ', 'ë¶„ëª…íˆ', 'ìˆë‹¤ê³ ', 'ê°€ìš´ë°', 'ì˜¤í›„', 'ì´ë¼ë©°',
            'ì´ë¼', 'ê²½ìš°', 'ê²°ê³¼', 'ì´ë‹¬', 'ìˆì–´', 'ëŒ€í•´', 'ê¸°ì¡´', 'í–¥í›„', 'ë¹„ë¡¯',
            "ì‘ê°€ì˜", "ì´ì•¼ê¸°", "í¬í•¨í•œ", "ìµœëŒ€", "ë§¤ì¼", "ì¶œì‹œ", "êµ­ë‚´", "ì •ë§ë¡œ",
            "ì‚¬ì‹¤", "ë³´ë„ì— ë”°ë¥´ë©´", "ì¶œì²˜", "ê¸°ì", "ê²°êµ­", "ë”°ë¼ì„œ","ì¦‰", "ê·¸ë˜ì„œ",
            "ê²°ê³¼ì ìœ¼ë¡œ", "ê²€ìƒ‰", "ë¬¸ì œ", "ì¦ê¸¸", "ë†€ëŸ¬", "ë‚˜ë“¤", "ì—´ë¦°", "ë„˜ì–´",
            "ì´ì–´", "ê·¸ë¦¬ê¸°", "ì´ë¯¸", "ì¼ë¶€", "ì°¸ì—¬", "í”„ë¡œê·¸ë¨", "english", "ìˆë„", "ëŒ€í‘œ",
            "ex", "ì¦ì •í•˜", "ë¯¸ë‹ˆ", "ì•„ì´ë””ì–´", "ê²Œì‹œê¸€", "ì½˜í…ì¸ ", "ëœ¨ê±°", "ê¸°ì—…", "ì–‘ì¬",
            "ì„œë¹„ìŠ¤", "ë§ˆì´ë°ì´í„°", "ìµœìš°ìˆ˜", "ìš°ìˆ˜", "ìˆ˜ìƒ", "ì„ ì •", "ë…¸ë ¥", "ì¤‘ìš”", "ë¬¸ì œ",
            "ì• í”Œë¦¬ì¼€ì´ì…˜", "ë°ì´í„°", "ìƒí™©", "ê²½ìš°", "ë°©ë²•", "ê³„ì†", "í•­ìƒ", "ëª¨ë‘", "ë§¤ìš°",
            "ë§ì´", "ë‹¤ì‹œ", "ì •ë§", "ceo", "í•´ë‹¹", "ê¸°ë°˜", "í”Œë«í¼", "í‰ê· ", "ì§€ë‚œí•´", "ì˜ˆì •",
            "ì—°ë§", "ì—°í•©", "ì—°í•©ë‰´ìŠ¤", "ë‰´ìŠ¤", "ìë£Œ", "ì‚¬ì§„", "ìë£Œì‚¬ì§„", "ì˜¤ì „", "ê²½ì œ", "ì‚¬íšŒ",
            "ì •ì¹˜", "ì‚°ì—…", "ì§€ì—­", "êµ­ì œ", "ë¬¸í™”", "ë¼ì´í”„", "ê±´ê°•", "ìŠ¤í¬ì¸ ", "ì—°ì˜ˆ", "ê³¼í•™",
            "ê³µë™ì·¨ì¬", "ì•„ë‹Œ", "ê³ ì†", "ì°¾ì•„", "ê¸€ë¡œë²Œ", "ê³¼ì •", "í•µì‹¬", "ì´ì¬", "ì‹œê°„", "ì£¼ìš”",
            "ê±°ë¼", ""
        ]

        # âœ… í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬
        text = text.lower()  # ëª¨ë“  ë¬¸ìë¥¼ ì†Œë¬¸ìë¡œ ë³€í™˜
        text = re.sub(r'[^ê°€-í£a-z\s]', ' ', text)  # í•œê¸€, ì˜ë¬¸, ê³µë°±ë§Œ ë‚¨ê¹€

        # âœ… ë¬¸ì¥ ë¶„ë¦¬ ë° ì •ë¦¬
        sentences = re.split(r'[.\n]', text)
        sentences = [s.strip() for s in sentences if len(s.strip()) > 10]

        # âœ… í‚¤ì›Œë“œ ì¶”ì¶œ
        keywords =  summarize_with_keywords(
            sentences,
            min_count=count,
            max_length=10,
            beta=0.85,
            max_iter=20
        )

        filtered_keywords = {
            k: v for k, v in keywords.items()
            if not re.match(r'.*(ë‹¤|ì´ë‹¤|ìˆë‹¤|í•œë‹¤|í–ˆë‹¤|í•˜ë‹¤|ë³´ë‹¤|í•œ|ë¥¼|ë |ì„|ì´|ê°€|ì˜|ì€|ëŠ”|ë¡œ|ê¹Œì§€|ì—|ê²Œ|ì |ê³ |ë©°|ë©´|ì„œ|ë¶€í„°|ì¸ì¸|ìš©|ë¥¸|ëœ|ì¶˜|í•˜|ìš´|ë‚˜|ì™€|í• |í•˜ì—¬|í•˜ë˜|ì¨|ë˜ì–´|ë„ë¡|í•˜ê¸°|ì´ê¸°|ë”ë¼ë„|ì ì¸|ê²ƒì„|í•˜ì§€|ëŠ”ë°|ë˜|ê³¼)$', k)  # ì¡°ì‚¬/ì–´ë¯¸ë¡œ ëë‚˜ëŠ” í‚¤ì›Œë“œ ì œê±°
            if not re.search(r'ì§¸', k) # í•´ë‹¹ ë¶€ë¶„ì´ í¬í•¨ë˜ë©´ ì œê±°
        }

        # ğŸ”¸ DataFrame ë³€í™˜
        df = pd.DataFrame(
            sorted(filtered_keywords.items(), key=lambda x: -x[1]),
            columns=['Keyword', 'Score']
        )

        # ë¶ˆìš©ì–´ ì œê±°: 'Keyword' ì»¬ëŸ¼ì—ì„œ ë¶ˆìš©ì–´ë¥¼ ì œì™¸í•œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ìƒì„±
        df['Keyword'] = df['Keyword'].apply(lambda x: ' '.join([word for word in x.split() if word not in stopwords]))

        # ë¶ˆìš©ì–´ë¥¼ ì œì™¸í•œ í‚¤ì›Œë“œë§Œ ë‚¨ê¸°ê¸° (ë¶ˆìš©ì–´ê°€ í¬í•¨ëœ í‚¤ì›Œë“œëŠ” ì œê±°ë¨)
        df = df[df['Keyword'].str.strip() != '']

        return df.head(20).values.tolist()
    except ImportError as e:
        print(e)
        print("krwordrank.word ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. pip install krwordrank.wordë¡œ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.")
        return []

def get_bill_keyword(text, stopwords=None, count=1):
    """
    í•œêµ­ì–´ í…ìŠ¤íŠ¸ì—ì„œ ëª…ì‚¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ (krwordrank.word ì‚¬ìš©)

    Args:
        text (str): í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•  í…ìŠ¤íŠ¸
        stopwords (list): í‚¤ì›Œë“œ ë¶ˆìš©ì–´ ë¦¬ìŠ¤íŠ¸íŠ¸
        count (list): ì¶”ì¶œí•  í‚¤ì›Œë“œì˜ ìµœì†Œ ë¹ˆë„ íšŸìˆ˜

    Returns:
        list: (í‚¤ì›Œë“œ, ì ìˆ˜) íŠœí”Œì˜ ë¦¬ìŠ¤íŠ¸
    """
    try:
        from krwordrank.word import summarize_with_keywords
        import pandas as pd

        if text is "X":
            return

        if stopwords is None:
            stopwords = []

        # ğŸ”¸ ê¸°ë³¸ ë¶ˆìš©ì–´ ì„¤ì •
        stopwords += [
            'ìˆë‹¤', 'í•œë‹¤', 'ìœ„í•´', 'ëŒ€í•œ', 'í†µí•´', 'ë°', 'ë“±', 'ì œ', 'ì˜', 'ìˆëŠ”',
            'í•˜ë©°', 'í•˜ê³ ', 'ì—ì„œ', 'ìœ¼ë¡œ', 'ê·¸ë¦¬ê³ ', 'ê·¸', 'ìœ„í•œ', 'ë„ë‚´', 'ì´ì „',
            'ì§€ë‚œ', 'ë‚´ë…„', 'ìˆìŒì„', 'ê·¸ëŠ”', 'í•˜ëŠ”', 'ê·¸ì˜', 'ì´í›„', 'í–ˆë‹¤', 'ê·¸ë…€',
            'ì €', 'ì´ëŸ°', 'ìµœê·¼', 'ë•Œë¬¸', 'ê´€ë ¨', 'ë‹¤ë¥¸', 'í•œ', 'ì´ë‹¤', 'í•˜ë‹¤', 'ì„',
            'ë¥¼', 'ì´', 'ê°€', 'ë“¤', 'ì™€', 'ê³¼', 'íŠ¹íˆ', 'ì¶œì‹œ', 'êµ­ë‚´', 'ìµœì‹ ', 'í•¨ê»˜',
            'ê°™ì´', 'í•˜ì§€ë§Œ', 'ê·¸ëŸ¬ë‚˜', 'ë”°ë¼ì„œ', 'ê²Œë‹¤ê°€', 'ë˜ëŠ”', 'ë¿ë§Œ ì•„ë‹ˆë¼',
            'ì´ë¼ë©´', 'ì´ë¼ì„œ', 'ì˜€ìœ¼ë©°', 'í–ˆë˜', 'ë•Œë¬¸ì—', 'ë“±ì„', 'ì˜í•´', 'ìœ¼ë¡œì¨',
            'ë§¤ìš°', 'êµ‰ì¥íˆ', 'ì•„ì£¼', 'ì˜', 'ì¡°ê¸ˆ', 'ì¢€', 'ê°™ì€', 'ì •ë§', 'ë§ì€', 'ëª¨ë“ ',
            'ì„œë¡œ', 'ì˜¤ëŠ˜', 'ë‚´ì¼', 'ì–´ì œ', 'ì§€ê¸ˆ', 'í˜„ì¬', 'ë‹¤ê°€ì˜¤ëŠ”', 'ì•ìœ¼ë¡œ', 'ì§€ë‚œë²ˆ',
            'ì˜¬í•´', 'ìš°ë¦¬', 'ë„ˆí¬', 'ë„ˆ', 'ì €í¬', 'ìì‹ ', 'ëˆ„êµ¬', 'ê°ì', 'ëª¨ë“  ì‚¬ëŒ',
            'ì‚¬ëŒë“¤', 'ê·¸ê²ƒ', 'ì–´ë–»ê²Œ', 'ë¬´ì—‡', 'ì™œ', 'ë‹¤ì‹œ', 'ê±°ê¸°', 'ì €ê¸°', 'ì—¬ê¸°', 'ê±°ì˜',
            'ëŒ€ë¶€ë¶„', 'ë‹¹ì‹œ', 'ê·¸ë‚ ', 'ë‹¤ìŒ', 'ê·¸ë•Œ', 'ì´ë²ˆ', 'ì–¸ì œë‚˜', 'í•­ìƒ', 'ìì£¼',
            'ê°€ë”', 'ì¢…ì¢…', 'í•œë²ˆ', 'ì •ë„', 'ì•½ê°„', 'ëŒ€ëµ', 'ì™„ì „íˆ', 'ì „í˜€', 'ë”ë¶ˆì–´',
            'ì‹¬ì§€ì–´', 'ë”êµ¬ë‚˜', 'í™•ì‹¤íˆ', 'ë¶„ëª…íˆ', 'ìˆë‹¤ê³ ', 'ê°€ìš´ë°', 'ì˜¤í›„', 'ì´ë¼ë©°',
            'ì´ë¼', 'ê²½ìš°', 'ê²°ê³¼', 'ì´ë‹¬', 'ìˆì–´', 'ëŒ€í•´', 'ê¸°ì¡´', 'í–¥í›„', 'ë¹„ë¡¯',
            'ë”°ë¼', 'ê²ƒì„', 'ì •í•´', 'ìˆë„ë¡', 'ìˆë„', 'ë‚®ì¶”', 'ë³¸ì¸', 'í•˜ì§€', 'ëŒ€í•´ì„œë„', 'ë‚˜íƒ€ë‚œ',
            'ì¶”í›„', 'ìˆë„', 'ì•„ë‹ˆ', 'ë‹¬ë¼', 'ì¼ë¶€', 'ìˆìŒ', 'ë˜ì–´', 'ë¯¸ì¹˜ì§€', 'ì—†ë„ë¡', 'ë°˜ë“œì‹œ',
            'í•´ë‹¹', 'ë¬´ê´€íˆ', 'ê°ì¢…', 'í•œí¸', 'ë°œìƒì‹œ', 'ì´ë‚´', 'ë§ˆë ¨', 'ì•„ë‹Œ', 'ë…„ë‹¹', 'ìˆì—ˆë˜',
            'ì •í•˜ë„ë¡', 'í•˜ì—¬ê¸ˆ', 'ë¯¸ë¹„', 'ëª…ì‹œ', 'ê¸°ê°„', 'ì´‰ì§„', 'ê±°ì³', 'ì„¸ê¸°', 'ê°ê°', 'ì‹œê¸°',
            'ë°œìƒ', 'ê±°ì³', 'ê´€ê³„', 'í˜„í–‰', 'ìˆ˜ë¦½', 'ì´ìƒ', 'ë§ì¶”ì–´ì ¸', 'ë‘ë„ë¡', 'ëª…í™•íˆ', 'ëŒ€ì—¬ì',
            'ë¨¸ë¬¼ëŸ¬', 'ì‹¤ì œ', 'í‰ìƒêµ', 'ê¸°ì¤€', 'ìµœì €', 'ëŒ€ìƒì', 'ëŒ€ì‹ ', 'ë§¤ë…„', 'ë¶€ê³¼í•˜ë„ë¡', 'ì¤‘ë³µ',
            'ë°©ì§€', 'ì¼ë°˜', 'êµ­ë¯¼ê¸°', 'ê¸°ë³¸ë²•ì¸', 'ë°©ì§€í•˜ê¸°', 'ì ˆì°¨', 'í¬í•¨í•˜ë„ë¡', 'ê°œì›”', 'ì¶œì„œì‹œì¼œ',
            'ì‚­ì œ', 'ìµœì†Œ', 'ê´€ê³„', 'ë‹¬ë¦¬', 'ê·œì •', 'ì¡°ì„±í•˜ê¸°', 'ì—¬ëŸ¬', 'ì£¼ìš”', 'ë°›ì§€', 'ìˆì§€', 'ì œì™¸',
            'ëª¨ë‘', 'ê°€ì§„', 'ì „ëµí™˜', 'ê¸°ê°„', 'ê°œì„ ', 'ê°„ì†Œ', 'ì•Šì•˜ìŒ', 'ì—¬ê±´', 'ì¬ì›ì¸', 'ì™¸ì—ë„', 'ë°©ë²•',
            'ì—†ë„ë¡', 'ë„í‰', 'ìˆìœ¼', 'ë³€ê²½í•¨', 'ê·¸ëŸ°', 'ìš”ì†Œ', 'í•˜ë˜', 'ë‚©ë¶€', 'ì‹œì‘', 'í™•ëŒ€', 'ëˆ„êµ¬ë“ ì§€',
            'ë§Œ', 'ì—´ëŒ', 'êµ¬ì„±', 'ì—†ì–´', 'ì–´ê¸¸', 'ìˆ˜ë¦¬í•˜ì§€', 'ë‹¹ì‚¬', 'ëŒ€ìƒì¸', 'ê·¸ëŸ°ë°', 'ë§Œë“œëŠ”ë°', 'ë‹¨ì¼',
            'ê¸°ë³¸', 'í˜¸ë¼', 'ì„¤ì¹˜í•¨', 'ì¡°ê¹Œ', 'ì—†ì–´ì§„', 'ê´€ë¦¬', 'ë“±ë„', 'ëª…', 'ê·¼ê±°', 'ê¸°ë¦¬ê¸°', 'ë¯¸ë¹„ì ',
            'ê°€ì…', 'ë¯¸ë§Œ', 'í˜„ì‹¤', 'ë™ì‹œ', 'ê·œì •í•¨', 'ì§€ê¸‰ë˜', 'ì‚¬ëŒ', 'ë“±ë¡', 'ì§€ê¸‰', 'ìˆ˜ê¸‰', 'ê°€ê²©', 'ëª…í™•',
            'ìš”ê±´', 'ì œë„', 'ë³´ì¡°', 'ì‹œì ', 'ê°•í™”', 'ë…¸ë ¹ì—°', 'êµ¬ì¶•', 'ì‹¤íƒœ', 'ê·¼ê±°ë²•ì¸', 'ì…ê¸ˆë˜', 'í™•ë³´',
            'ì·¨ì†Œ', 'ë¶€ê³¼', 'ì‚¬ìœ ', 'ì‚¬ëŒ', 'ì§€ì²´ì—†', 'í•„ìš”', 'ë‹¹ì‚¬ì', 'ì‚¬í•­', 'ì´ë°”ì§€í•¨', 'ì¶”ì§„', 'ì‹œí–‰',
            'ì‚¬ì „', 'ì‹¤ì‹œ', 'ì¡°ì„±', 'ë²”ìœ„', 'ë¶€ì¹™', 'ì¡°ê±´ë¶€', 'ëŒ€ìƒ', 'ì¶•ì†Œ', 'ì‹ ì²­', 'ì œê³µ', 'ì§ë¬´ìƒ', 'ë¶€ê³¼ë°›',
            'ê¸°ì¤€ì¸', 'ë³´ê¸°', 'êµ¬ì—­', 'ì¡°ì •', 'ìš´ì˜ìƒ', 'ì§€ê¸‰ë°›', 'ì˜ˆì‹œ', 'ì •ì •', 'ë³€ê²½', 'ë²•ë¥ ', 'ì•„ë‹ˆë¼', 'ê¸°ëŠ¥',
            'ì„¤ì¹˜', 'ê·œëª¨', 'ìˆ˜ì •', 'íŠ¹ìˆ˜êµ', 'ìš”êµ¬ë˜', 'ëŒ€ì²´í•¨', 'ì£¼ì²´ì¸', 'ì§€ì •', 'ê³ ë„ë³´', 'ì‹¬ì‚¬', 'ì‚¬ì‹¤', 'ì¡°ì‚¬',
            'íƒ€ì„±', 'ëŒ€ëŸ‰', 'ì¸ì¦', 'ì„±ê³¼', 'ë°œìƒí•˜ë”ë¼', 'ì²´ê³„', 'ë¶€ë¶„', 'ì´ˆê³¼', 'ê³µê³µê¸°', 'ì˜ê²¬', 'ìŠ¹ì¸', 'ê¸°ì„±',
            'ëŒ€', 'ìë£Œ', 'í˜¼ë€', 'ê·¼ì ˆ', 'í–‰ìœ„', 'ê´¸ì‹¬', 'ì‡ë‹¬ì•„', 'ì œê³µí•˜ì—¬ì•¼', 'ì£¼ë¯¼ë“¤ê³¼', 'í—ˆê°€ë°›', 'ê²°ì •',
            'ìš°ë ¤', 'ìƒí™©', 'ì¡°ì ˆ', 'ê³ ë ¤', 'ì–´ë ¤ì›€', 'ì—°ë„', 'ë°©ì‹', 'ì¸ì •', 'ê°œì„ í•˜ê³ ì', 'íšŸìˆ˜', 'ë™ì¼', 'ì¥ì†Œ',
            'ìˆ˜í–‰', 'ì§‘ì¤‘', 'ë¬¸ì œì ', 'ì¤‘ìš”', 'ìƒíƒœ', 'ì—¬ë¶€', 'ë¶ˆê³¼í•´', 'í›¼ì†ë˜ì§€', 'ìœ ì§€', 'ì œì‹œ', 'ìˆ˜ì¤€', 'í•­ë§Œ',
            'ë‘”í™”', 'ì¤‘ì‹¬', 'ì„ ê³ ë°›', 'ê³µê°œ', 'ì†Œì†¡ê³„ì†', 'ìë£Œ', 'ì´ë¥´', 'ê²½ê³¼', 'í¸ì¤‘ë˜ì§€', 'ì°¸ê°€ì', 'ë…„ê°„', 'ë‚˜ë‰˜ì–´ì ¸',
            'ì›í™œíˆ', 'ìµœì ‘ì ì¸', 'ì¼ì •', 'ì°¸ì—¬', 'ëŒ€ìƒê³„', 'í¬í•¨ë˜', 'ì¤‘ì¸', 'ìƒëµ', 'ê³„íš', 'ì¤„ì–´ë“œ', 'ê³ ë“±', 'êµ¬ì²´',
            'ì¼ì‚¼', 'êµ¬ì²´', 'ê³ ë“±', 'ê³µìœ ', 'ë‚´ì‹¤', 'ë¶€ë‹´', 'ìœ ë¬´', 'ì¤„ì–´ë“œ', 'ìŠ¤íƒ ë”ë“œ', 'ì°¸ì—¬', 'ë¬¼ê±´', 'ì„¤ë¦½', 'ììœ¨',
            'ìš´ì˜', 'ì‹¤íš¨', 'ì›í™œíˆ', 'ì—†ë„', 'ë°”ê¾¸ë ¤', 'ê¸°íšŒ', 'ëª¨ì§‘', 'ê´€ì‹¬', 'ì‘ì„±', 'ì›', 'ì œí’ˆ', 'ì°¸ì„ì', 'ì œê¸°',
            'ì„ ë°œ', 'ë¶€ë¬¸', 'ë„ì…', 'ì •ìˆ˜', 'ìˆ˜ìš”', 'íš¨ìœ¨ì„±', 'ì‹¤íš¨ì„±', 'ì—…ë¬´', 'ë””ì§€', 'ë¹„íŒ', 'ì •ë³´', 'ì˜ìœ„', 'í™•ì¸',
            'íš¨ê³¼ì„±', 'ë„£ì–´', 'ìš”ì²­', 'ìš°ì„ ', 'ë¹„ìœ¨', 'ë¶ˆì•ˆí•´ì§', 'íƒ€ì¸', 'ì¸ë„', 'ë¶€ê³¼í•¨', 'ì›”ì°¨ì„', 'ì „í™˜', 'ë‚®ì•„',
            'ì‹ ì„¤í•¨', 'ì§€ì›ì›', 'ì²˜', 'ì›ì¹™', 'ë§ì¶”ì–´', 'í˜¼ì„ ', 'ë¶€í•©', 'ë³´ì™„', 'ë‹¬ì„±', 'ì¸ì •ë˜', 'ê³„ì†', 'ê°œì‹œ', 'ì•„ë‹ˆí•˜ë”ë¼',
            'ë°”ê¿ˆ', 'ë°”ê¾¸', 'í‘œê¸°', 'ë‹¤ë“¬ìŒ', 'ì¡°í•­', 'ì–µì›', 'í˜„í™©', 'í•˜ë„', 'ì ìš©ë˜', 'ìš°ë ¤ë˜', 'ìœ„í•´ë°œìƒ', 'í™•ì‚°', 'ì´ë“¤',
            'ì¦‰ì‹œ', 'ì´ë¯¸', 'íŒë‹¨ë˜', 'ë¿ë§Œ', 'ë°˜ì˜', 'ìµœëŒ€', 'ê·¸ì³', 'ë¹„í•´', 'ì •í•¨', 'ì¬ì›', 'ê°•í™”í•¨', 'ì •ë¹„í•¨', 'í—ˆìš©í•¨',
            'ìƒí™©ì„', 'ì²˜í•´ìˆ', 'íŠ¹ì„±ìƒ', 'ê³¤ë€', 'í˜„ì €íˆ', 'ë‚˜ì˜¤ê¸°', 'ì•Šì•„', 'ë‹¹í•´', 'ì‚¬', 'ì˜ê²°ë˜ì§€', 'ì˜ì•ˆë²ˆí˜¸', 'í•„ìš”í•¨',
            'ë§ˆë ¨í•¨', 'í•„ìˆ˜', 'íì§€í•¨', 'ë³„ë„', 'ê´€ê³„ì—†', 'ì¡°ì •ë˜ì–´ì•¼', 'ì‚­ì œí•¨', 'ì¶”ì²œ', 'ë§ì¶”', 'ë¶ˆêµ¬', 'ì‹¤ì •ì„', 'ë¶ˆê³¼í•˜ë˜',
            'ì ì°¨' , 'ë‹¤ë¬¸', 'ê°€êµ¬ì˜€ë˜', 'ë²—ì–´ë‚˜ê¸°', 'ì·¨ì§€', 'ì¶”ì„¸ì„', 'ì´ë£¨ì–´ì§ˆ', 'ë§Œì›', 'ìš©ì–´ì¸', 'ì²œë§Œ', 'ì•Œê¸°', 'ì²˜ìŒ', 'ìˆë˜',
            'ë³´í˜¸ë°›', 'ì¶©ë¶„íˆ', 'í•©ì˜í•¨', 'ì´í–‰', 'ì „ì œ', 'ìƒê´€', 'ë˜ë„', 'ë„ˆë¬´', 'ëª…í™•í™”', 'í•œì •', 'ë¬¸ì œ', 'ë†ì–´ì—…ê³¼', 'ì œì•ˆì´ìœ ',
            'ëŒ€ì‘', 'ì—°ì´ì–´', 'ì‹¤ì§ˆ', 'ì•ˆì •ê³µ', 'ì°¨ì›', 'ê°•í™”í•˜ê³ ì', 'ê°€ëŠ¥', 'ê¸°ë°˜', 'ì°½ì¶œ', 'ë¶€ì—¬', 'ì²˜ë¦¬', 'ê¾¸ì¤€íˆ', 'í™•ë¦½',
            'ì—†ì–´ì§ˆ', 'ì‘ëŒ€', 'í‰ê· ', 'ë‹¤ìˆ˜', 'ì´ì–´ì ¸', 'ê²½ê°ì‹œí‚¤ë ¤', 'ê°•êµ¬', 'í˜•í‰', 'ì—°ì¥', 'ì´í•´', 'ë°°ì¹˜í•¨', 'ê³ ì¹¨', 'ë²•ë ¹', 'ì™”ìœ¼',
            'ë‚˜íƒ€', 'ì§ì ‘', 'í•˜í–¥', 'ë¹„ì •', 'ë§Œëª…', 'ì²œëª…', 'ìˆì—ˆ', 'í•­ì œ', 'ê·¸ë™ì•ˆ', 'íì‡„ë¨', 'ì¼ì‹œ', 'ì•…í™”', 'ê°ë©´ë°›', 'í˜•íƒœ',
            'ì‚¬ìœ ì¸', 'ì¶œì—°', 'ê²€ì¦', 'ìƒí˜¸', 'ëŒ€í•´ì„œë§Œ', 'íƒˆë½', 'ì›í™œ', 'ìˆëŠ”', 'ì¼ì', 'ìˆëŠ”ë°”', 'í¼ëª©', 'ì¼í™˜', 'ì œê³ ', 'ì£¼ì²´ë“¤',
            'ë‹¤ì–‘', 'ì í•©', 'í¬í•¨', 'ê²ƒê³¼', 'ê°–ì¶”', 'ë‘ì–´', 'í˜„ì‹¤ì„', 'ë³´ì„', 'ë°œê²¬', 'ì‚°ì •', 'ì˜ë¬´í™”í•¨', 'ê¸°ì¬', 'ì œì¶œí† ë¡', 'íš¨ìœ¨',
            'ë¯¸ì¹˜', 'í•˜ì˜€ëŠ”ì§€', 'ì ì ', 'ì¤€ìˆ˜', 'ìœ ì‚¬ê¸°ê´€ê³¼', 'ë†’ì´ë ¤', 'ì¡°ê¸°', 'í˜¸ì•„', 'ë¯¸ë¦¬', 'ì´ì•¡', 'ì„¤ì •', 'ìƒí–¥', 'í•˜í–¥', 'ì‹ ê·œ',
            'ì—´ê±°í•¨', 'êµ¬ì œë°›', 'ì¬íŒìƒ', 'ëŒ€ê·œ', 'ì´ë£¨ì–´ì§€', 'ë²•ë¥ ìƒ', 'ìƒí–¥', 'ê²°êµ­', 'ì™¸ë¶€', 'ê³ ì¶©', 'ìˆ˜í–‰', 'ì§„í–‰', 'ì¡°ì¹˜',
            'ë°©ì•ˆ', 'ë¶ˆê±´ì „', 'ë°œí–‰', 'í—Œë§ˆ', 'íšì •ë˜', 'ë‹¤ì†Œ', 'ì•Šì€ë°”', 'ìƒíƒœì¸ë°”', 'í˜•ì‹', 'ì¢…ë¥˜', 'ì˜ˆë¹„í›„', 'íšì •', 'ë²—ì–´ë‚˜ì§€',
            'ë¶€ì¬ë¼', 'í•´ì†Œí•¨', 'ë¬¼ë¡ ', 'ì¸ì •í•¨', 'ë©´ì œí•¨', 'ì§€ì—°ë˜', 'ì§€ì†', 'ì†Œí™€', 'ì ì§€', 'ë°›ê¸°', 'ë“œëŸ¬', 'í•´ì„', 'í•´ê²°', 'ì—¬ì „íˆ',
            'ìš”ì¸', 'ê°ê´‘ë°›', 'ë“¤ì–´', 'ë„ëª¨', 'íš¨ê³¼', 'í•„ìš”ì„±', 'ë¹„ì¤‘', 'ìë…€ì¸ì§€', 'ì§ì „ë…„', 'ë¶„ì•¼', 'ì£¼ì²´', 'í™œì„±í™”í•¨', 'ë°œì „ì‹œí‚¤',
            'ëŒ€í†µ', 'ê³ ì •', 'ì•„ìš¸ëŸ¬', 'ì˜¨ë¼', 'ì˜í–¥', 'ì´ë¥¸ë°”', 'ì˜¬ë¦´', 'ë°”íƒ•', 'ìˆœìœ„', 'ë„ì§€', 'ë°íˆê¸°', 'í•´ë‹¹ë˜', 'í•˜ì£¼', 'ìœ„ì„í•¨',
            'ìœ í˜•', 'ê¸ˆì•¡', 'í˜‘ì¡°', 'ì¥', 'ì—¬íƒ€', 'ë„ì§€', 'ì œì¶œ', 'ëª¨ìŠµ', 'ì¦ëª…', 'í¸ë¦¬ì„±', 'ì‹ ë¢°ì„±', 'ê°œì„ í•¨', 'ì„ ê³ í•¨', 'ìˆê¸°',
            'ë‚´ë¦¬ê¸°', 'ì´ë¥´', 'ê¸°íƒ€', 'ê²€í† ', 'ê°œì¸ì •', 'ì œê³µìë“±', 'ì ‘ê·¼', 'í˜„í–‰ë²•ìƒ', 'í•­ëª©', 'ì¦ì§„', 'ëˆ„ë ¤ì•¼', 'ì¡°ì°¨', 'ìˆ˜ì§‘',
            'ì•ˆì „ì„±', 'ì„±ëª…', 'ì§„ì‹¤', 'êµ¬ì²´ì„±', 'ë¹ˆë„', 'ëª…ì‹œí•¨', 'ìˆ˜ë§', 'ì†Œì†', 'í¸ì˜ì„±', 'ëª…ì¹­', 'ë¯¼ê°', 'ë‘í…', 'ì´ë¥´ì§€', 'ì´ë£¨ì–´ì§€ì§€',
            'ì˜®ê¸¸', 'í¬í•¨í•¨', 'ê±°ì§“', 'ì–´ë ¤', 'ì°¨ì§€', 'ë‹¤ì', 'ì •ì±…', 'í™œë™', 'í˜¼ë™', 'ê°œì¸', 'ë„ë„', 'í•´ì†Œ', 'í˜¸ì‚¬', 'ì˜ì œ',
            'ë¹„ì‹¼', 'ì‚¬íƒœ', 'ì˜ë¯¸', 'ì—´ê±°', 'ê°ì†Œ', 'ë³´ìœ ', 'ë‚´ì—­', 'ì—´í’', 'ê¸°ì—¬', 'ë„ë¦¬', 'ì²˜í•˜ë„', 'ê²½í–¥', 'ì—„ê²©', 'ìì²´',
            'ì´ìœ ', 'í• ë‹¹', 'ì§€ë‚¬ìœ¼', 'ì†Œìš”ë˜', 'ì‹œê°„', 'íŒë‹¨', 'ê³¼ì •', 'ì¤‘ë“±', 'ë‚´ë¶€', 'í™•ì¶©', 'ìƒˆë§ˆ', 'í˜¸ë¼ëª©', 'ìƒí–¥ì¡°', 'í†µì§€',
            'ì œì‚¼ì', 'ê¸°íš', 'ê°œì‹œì „', 'ë‹¨ê³„ë³„', 'í†µë³´', 'ì „ë¶€', 'ë‹¤ë§Œ', 'ì‹œëŒ€', 'ë”°ë¥´', 'ì¶œì‹ ', 'ìì§ˆ', 'ìœ¡ë°•', 'ë¶ˆë¶„', 'ë‹´ë‹¹',
            'ê³ ìœ ', 'ì‹¬ê°', 'ìƒë‹¹', 'ê´€ë…', 'ì¬ì •ìƒ', 'ì§€ìƒ', 'íšŒê³„ì—°', 'ê¸ˆì•¡ê³¼', 'ê°ê¸‰', 'ìˆ˜ì§‘ë˜', 'ë§Œí¼', 'ì•„ì§', 'ë°€ì ‘íˆ', 'ë³µì¡',
            'ê´€ê³„ê¸°', 'ì•ŠìŒ', 'ì–´ë ¤ì›Œ', 'ì²˜í•¨', 'ì•Œë¦¬ë”ë¼', 'ì‹ ì†íˆ', 'ìˆ˜ì •ì˜ê²°ë˜', 'ìˆì§€ë§Œ', 'ì¸í•´', 'ì²˜ë²Œí•¨', 'ì‹ ì†', 'ì‹œí–‰í•¨', 'ê°€ì¥',
            'ì´ë°”', 'ì˜ˆì •', 'í•©ë¦¬', 'ì¤€ì •', 'ê±¸ë¦¼ëŒ', 'ììœ¨ê²½', 'ë§Œì—°', 'ì‹¬í™”', 'ë‚˜ì•„', 'ë°›ì•„', 'ë¶ˆì‹œ', 'ì‚¬ë²•ìƒ', 'ì´ì–´ì§ˆ', 'ê³³ì¸',
            'ë‚´ì§€', 'ì´ì–´ì ¸ì™”ìŒ', 'ì œê³ í•¨', 'ì œì•ˆë˜ì—ˆëŠ”ë°”', 'ì œê³ í•¨', 'ìƒëŒ€ë°©', 'í–¥ìƒ', 'ë¶ˆê³¼í•¨', 'ë²”ì£¼', 'ì¶”êµ¬', 'ë¶ˆê³¼', 'ì´ë£¨', 'ìš´ì˜í•¨',
            'ì ê·¹', 'ëŒ€ë‹¤ìˆ˜', 'í•˜ê³ ì', 'ë§ì¼', 'ë¯¸ë§Œì¸', 'ì²œì–µì›', 'ì™”ìŒ', 'ì¼ê´„', 'ì´ì™¸', 'ë‹¤ë¦„ì—†', 'ê°ì†Œë¼', 'ì ì ˆíˆ', 'ê°„ì‚¬',
            'ì§€ì—°', 'ì¹¨í•´ë°›', 'ë³´ë‚¸', 'ì–»ì–´', 'ì°¾ê¸°', 'ë¶€ì¡±', 'ì˜ì •í™œ', 'ì‚¬ì‹¤ìƒ', 'ì¸ë‹¹', 'ê°€ì§€', 'ê°œì„ ë“±', 'í™•ì¸ë°›', 'ì˜ˆì‚°ìƒ',
            'ì–¸ì œ', 'ê·¼ê°„', 'ì—¬ì „', 'í¼ì„¼íŠ¸', 'ì™„í™”', 'ì‚¬ì—…ì—°', 'ì •ì±…ëª©í‘œ', 'ì¶”ì •ë˜', 'ë°©ì¹¨', 'ì¬ì‚°ì •', 'ì‘ë™í•¨', 'ì¶©ì‹¤íˆ', 'ì—¬ì§€',
            'ë°›ë˜', 'ì‹œë‹¬', 'ì—†ìœ¼', 'ì „í•¨', 'ë¬¼í’ˆ', 'ë¶ˆê°€ëŠ¥í•¨', 'ê°œì •í•¨', 'í•´ë‹¹ì—°', 'ì €ì§€', 'ê°€ëŠ¥ì„±', 'ë˜ì§€', 'ì—°ê²°', 'that', 'persons',
            'better', 'one', 'guilty', 'ten', 'is', 'innocent', 'ì´ìœ ë§Œ', 'ì˜¤íˆë ¤', 'ë³´ì¥ì´ë¼', 'í•œì‚¬ëŒ', 'ë‹¨ê³„', 'ì„±ì¸ë“¤', 'ìƒìŠµ',
            'ìš”êµ¬', 'ì „í™˜í•¨', 'ì£¼ì‹ë“±', 'í•˜ì—¬ì•¼', 'ì˜¤ëœ', 'ë§ì€í–‰', 'ê±°ë¦¬', 'ì˜ˆìƒ', 'ë¶ˆí•„', 'ì™•ì„±', 'ì…ë²•í™œ', 'ì‚¬ì •', 'ì§€ì¹¨',
            'ì¼ì¼', 'íŠ¹ì„±', 'ì‹¤ì •', 'ë³¸ì•ˆ', 'ì‚¬ë¡€', 'ëŒ€ì±…', 'ê°œë…', 'ì¢…í•©', 'ë‹¨ë…', 'ì ¸ë²„ë¦¬', 'ì¼ëª…', 'ì¡´ì¬', 'ì—°ë™í•´', 'ì—¬ë¹„',
            'ì–´ëŠ', 'ë§Œë‚ ', 'ìœ„ê¸°', 'ë‚®ì¶”ê¸°', 'ì‹ ì„¤', 'ì¶©ì‹¤', 'ì¤‘ì•™', 'ê¹€ì•ˆ', 'í˜„ìƒ', 'êµ¬ì„±ì›', 'ë†“ì¹˜ë”ë¼', 'ê¹€ì‹ ', 'ê·¸ëŸ¬', 'ìì§„',
            'ì¶©ê²©', 'ì˜¤íˆ', 'ë‘ì—ˆìŒ', 'ë°œë§ì¶°', 'ë³€í™”', 'í†µê³¼', 'ì´ˆì ', 'ë”ë¶ˆ', 'ë³´ê´€', 'ì •ì•¡', 'ë°íŒ', 'ìœ„í•¨', 'í—ˆìš©ë˜', 'ì²¨ë¶€',
            'ì§„í–‰ë˜', 'ê°êµ­', 'ê¸°ë³¸ì›ì¹™ì¸', 'ì§€ì •ìš”ê±´', 'í–‰ë™', 'ì „êµ­', 'ìˆ˜ì—¬ë°›', 'ë¶€ì—¬í•¨', 'ëŒ€í‘œ', 'ì´ëŸ‰', 'ë”°ë¼ì£¼ì§€', 'êµ¬ë¶„',
            'ì‹¤í˜„', 'ì‹¬í™”ë¨', 'ìƒí™©', 'ëª»í•œì±„', 'ì´ˆë‹¨', 'ì´ˆê¸°', 'ë¯¼ê°„ì°¸', 'ë…„ëŒ€', 'êµí™˜', 'ì§€í‚¤', 'ë¯¸ë°œ', 'ì¬ë“±', 'í–¥ì‘',
            'ìœ ë£Œë„', 'ì²­ëª…', 'ë¹šì–´ì ¸', 'í•œí•˜ì—¬ë§Œ', 'ì²˜í•´', 'ì°¨ë³„ë°›ì•„', 'ì–‘ì—¬', 'ì•„ë‹ˆí•¨', 'ë³¸ì—°', 'ì§€ë‚˜ì§€', 'í•˜ì˜€ìŒ', 'ê°€ì ¸',
            'ê²½í—˜', 'ë˜ì—ˆìŒ', 'ê³ í†µë°›', 'ì¤‘ìš”ì„±', 'ì¶œì…', 'ì²œë§Œì›', 'ì´ìµ', 'ì—†ìŒ', 'ë„ì…í•¨', 'ê¸°ì´ˆ', 'ì ë°œë˜', 'ëª»í•´', 'ë§Œë‹¬', 'ì •ì‹ ìƒ',
            'ìƒì‹¤', 'ëë‚œ', 'ì œì •ì‹œ', 'ì•Šì•˜ë˜', 'ì„±ê³µ', 'ì¿ ëª©', 'ë‹ˆì½”', 'ìš©ëŸ‰', 'ë¯¸ì•½', 'ì·¨í•¨', 'ì˜ˆì™¸', 'í˜„í™©ìë£Œ', 'ë…¸ë ¥', 'í‘œì‹œ',
            'ì „ê¹Œì§€ë§Œ', 'ê¸¸ì–´ì ¸', 'ì¡°ì†íˆ', 'ë¯¸í„°', 'ë³€ë™', 'ë†’ì¼', 'ë§ì•„', 'ë²•ë ¹ìƒ', 'ì§€ë¶•ì¸', 'ë³¸ì¸ì„', 'ë¹„íš¨ìœ¨', 'ì¦ëŒ€', 'ì°©ì˜¤',
            'ì…ë²•ì·¨ì§€', 'ì„±ì‹¤', 'í•˜ì˜€', 'ê¸°ë³¸ì·¨ì§€', 'íŠ¹ì •', 'ì¼ì •ì•¡', 'ì²˜ë¶„ìƒ', 'ë™ì•ˆ', 'ì¥ì‹œê°„', 'ì´ìš©í•¨', 'ì¼ì£¼', 'ë¶€ë™', 'ì˜¤í•´',
            'ë†’ì´ê³ ì', 'ë‘ë˜', 'ë°œë°œ', 'ìµœì´ˆ', 'ì»¨ì„¤', 'ë¶ˆí•¨', 'ì£¼ê¸°', 'ë˜ìƒˆ', 'ì–µì§€', 'ì•Œì§€', 'ì œì™¸í•¨', 'ê³¼íƒœë£Œë§Œ', 'ìš©ë„', 'ì•¡ì²´',
            'ìš©ì•¡', 'ì² ì €', 'ê°œì •', 'ì—…ë¬´ìƒ', 'ì ê²©', 'ì§€í‚¤ì§€', 'í™•ì •', 'ë¶ˆí•©', 'ì‹œí–‰ë ¹', 'ì‚°ì…', 'ë°°ë ¤', 'ë¶ˆí¸', 'ê°€ì¹˜', 'ì„œë¹„',
            'ì¦ì„¤', 'ì‹ ë¢°ë„', 'ì œì™¸í•¨', 'ì±…ì„ì„±', 'ì‹œìŠ¤í…œ', 'í•„ìˆ˜ì ì„', 'ì‘ë™ë˜ê¸°', 'ì„±ì‹¤', 'ì±…ë¬´', 'êµ¬ì¡°', 'ì •ì„¸', 'ì‚¬í•­ë“¤', 'ê¸°ë³¸ì˜ë¬´ì¸',
            'ë‹¨ì¶•í•¨', 'í†µìƒ', 'ì—¬ìœ ', 'ëŒë³´ê¸°', 'ê³µë°±', 'ì‹ ë¢°', 'ê¸°ë¡', 'ë°”ë‹¥', 'ë„ëª¨í•¨', 'ê±°ì ˆì´ìœ ', 'ì¶”ì„¸', 'ë‹¨ì¶•', 'ë¶ˆì‚¬', 'ì¢…ë£Œ',
            'ì¡°ì •í•¨', 'ì„¸ëŒ€ë“¤', 'ì–´ê¸‹', 'ì—¬ëª…', 'ì¼ì”©', 'ì‚¬í•­ë“¤', ''
        ]

        # âœ… í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬
        text = text.lower()  # ëª¨ë“  ë¬¸ìë¥¼ ì†Œë¬¸ìë¡œ ë³€í™˜
        text = re.sub(r'[^ê°€-í£a-z\s]', ' ', text)  # í•œê¸€, ì˜ë¬¸, ê³µë°±ë§Œ ë‚¨ê¹€

        particle_pattern = r'\b(\w+)(ë“¤|ë“±|ì€|ëŠ”|ì´|ê°€|ì„|ë¥¼|ì—|ì˜|ìœ¼ë¡œ|ì™€|ê³¼|ì¸ë°|ë„|ì—ì„œ|ë¶€í„°|ê¹Œì§€|ë³´ë‹¤|ì—ê²Œ|í•œí…Œ|ê»˜|ìœ¼ë¡œì¨|ìœ¼ë¡œë¶€í„°|ì´ì§€ë§Œ|ì—ë§Œ|ì—ê²Œë§Œ|ì²˜ëŸ¼|ë¿ë§Œ|í•˜ì˜€ìŒ|í•˜ì˜€ë˜|í•˜ì˜€ê¸°|ì‹œí‚¬|ì‹œì¼œ|ì‹œí‚¤ì§€|í•˜ë˜|í•˜ì—¬ì•¼|í•˜ê³ ì|í•˜ëŠ”ì§€|ë˜ì§€|ë˜ì—ˆìŒ|ë¨)\b'
        text = re.sub(particle_pattern, r'\1', text)

        # âœ… ë¬¸ì¥ ë¶„ë¦¬ ë° ì •ë¦¬
        sentences = re.split(r'[.\n]', text)
        sentences = [s.strip() for s in sentences if len(s.strip()) > 10]

        # âœ… í‚¤ì›Œë“œ ì¶”ì¶œ
        keywords =  summarize_with_keywords(
            sentences,
            min_count=count,
            max_length=10,
            beta=0.85,
            max_iter=20
        )

        filtered_keywords = {
            k: v for k, v in keywords.items()
            if not re.match(r'.*(ë‹¤|ì´ë‹¤|ìˆë‹¤|í•œë‹¤|í–ˆë‹¤|í•˜ë‹¤|ë³´ë‹¤|í•œ|ë¥¼|ë |ì„|ì´|ê°€|ì˜|ì€|ëŠ”|ë¡œ|ê¹Œì§€|ì—|ê²Œ|ì |ê³ |ë©°|ë©´|ì„œ|ë¶€í„°|ì¸ì¸|ìš©|ë¥¸|ëœ|ì¶˜|í•˜|ìš´|ë‚˜|ì™€|í• |í•˜ì—¬|í•˜ë˜|ì¨|ë˜ì–´|ë„ë¡|í•˜ê¸°|ì´ê¸°|ë”ë¼ë„|ì ì¸|ê²ƒì„|í•˜ì§€|ëŠ”ë°|í•˜ë ¤|ìˆ|ì—ˆ)$', k)  # ì¡°ì‚¬/ì–´ë¯¸ë¡œ ëë‚˜ëŠ” í‚¤ì›Œë“œ ì œê±°
            if not re.search(r'ì§¸', k) # í•´ë‹¹ ë¶€ë¶„ì´ í¬í•¨ë˜ë©´ ì œê±°
        }

        # ğŸ”¸ DataFrame ë³€í™˜
        df = pd.DataFrame(
            sorted(filtered_keywords.items(), key=lambda x: -x[1]),
            columns=['Keyword', 'Score']
        )

        # ë¶ˆìš©ì–´ ì œê±°: 'Keyword' ì»¬ëŸ¼ì—ì„œ ë¶ˆìš©ì–´ë¥¼ ì œì™¸í•œ ìƒˆë¡œìš´ ë¦¬ìŠ¤íŠ¸ ìƒì„±
        df['Keyword'] = df['Keyword'].apply(lambda x: ' '.join([word for word in x.split() if word not in stopwords]))

        # ë¶ˆìš©ì–´ë¥¼ ì œì™¸í•œ í‚¤ì›Œë“œë§Œ ë‚¨ê¸°ê¸° (ë¶ˆìš©ì–´ê°€ í¬í•¨ëœ í‚¤ì›Œë“œëŠ” ì œê±°ë¨)
        df = df[df['Keyword'].str.strip() != '']

        return df.head(20).values.tolist()
    except ImportError as e:
        print(e)
        print("krwordrank.word ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. pip install krwordrank.wordë¡œ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.")
        return []


# Kiwi
def extract_keywords_with_kiwi(text, top_n=10):
    """
    í•œêµ­ì–´ í…ìŠ¤íŠ¸ì—ì„œ ëª…ì‚¬ í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•˜ëŠ” í•¨ìˆ˜ (kiwipiepy ì‚¬ìš©)

    Args:
        text (str): í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•  í…ìŠ¤íŠ¸
        top_n (int): ë°˜í™˜í•  ìƒìœ„ í‚¤ì›Œë“œ ê°œìˆ˜

    Returns:
        list: (í‚¤ì›Œë“œ, ë¹ˆë„ìˆ˜) íŠœí”Œì˜ ë¦¬ìŠ¤íŠ¸
    """
    try:
        from kiwipiepy import Kiwi

        # í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬
        text = text.lower()  # ì†Œë¬¸ì ë³€í™˜
        text = re.sub(r'[^\w\s]', ' ', text)  # íŠ¹ìˆ˜ë¬¸ì ì œê±°

        # ë¶ˆìš©ì–´ ëª©ë¡ì€ ìœ„ì™€ ë™ì¼
        stopwords = [
            'ì´', 'ê·¸', 'ì €', 'ê²ƒ', 'ì´ê²ƒ', 'ê·¸ê²ƒ', 'ì €ê²ƒ',
            'ë‚˜', 'ë„ˆ', 'ìš°ë¦¬', 'ë‹¹ì‹ ', 'ê·¸ë“¤', 'ì €í¬', 'ìê¸°',
            'ì´ëŸ°', 'ê·¸ëŸ°', 'ì €ëŸ°', 'ì´ë ‡ê²Œ', 'ê·¸ë ‡ê²Œ', 'ì €ë ‡ê²Œ',
            'ë°', 'ì—', 'ì˜', 'ì„', 'ë¥¼', 'ì´', 'ê°€', 'ì€', 'ëŠ”',
            'ë¡œ', 'ìœ¼ë¡œ', 'ì—ì„œ', 'ì—ê²Œ', 'í•œí…Œ', 'ê»˜', 'ì™€', 'ê³¼',
            'ì´ë‚˜', 'ë‚˜', 'ë‘', 'í•˜ê³ ', 'ê¹Œì§€', 'ë¶€í„°', 'ë„', 'ë§Œ',
            'ë°', 'ê°™ì€', 'ê°™ì´', 'ì²˜ëŸ¼', 'ë³´ë‹¤', 'ë¼ê³ ', 'í•˜ë‹¤', 'ì„',
            'ìˆë‹¤', 'ì—†ë‹¤', 'ë˜ë‹¤', 'í•˜ë‹¤', 'ë•Œë¬¸', 'ë•Œ', 'ë‚´', 'ê·¸ëƒ¥'
        ]

        # Kiwi í˜•íƒœì†Œ ë¶„ì„ê¸° ì´ˆê¸°í™”
        kiwi = Kiwi()

        # í…ìŠ¤íŠ¸ ë¶„ì„ ë° ëª…ì‚¬ ì¶”ì¶œ
        result = kiwi.analyze(text)
        nouns = []

        for token in result[0][0]:
            if token.tag in ['NNG', 'NNP']:  # ì¼ë°˜ ëª…ì‚¬ì™€ ê³ ìœ  ëª…ì‚¬ë§Œ ì¶”ì¶œ
                nouns.append(token.form)

        # ë‹¨ì¼ ê¸€ì ëª…ì‚¬ì™€ ë¶ˆìš©ì–´ ì œê±°
        filtered_nouns = [noun for noun in nouns if noun not in stopwords and len(noun) > 1]

        # ë¹ˆë„ìˆ˜ ê³„ì‚°
        noun_counter = Counter(filtered_nouns)

        # ìƒìœ„ í‚¤ì›Œë“œ ì¶”ì¶œ
        top_keywords = noun_counter.most_common(top_n)

        return top_keywords

    except ImportError:
        print("kiwipiepy ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. pip install kiwipiepyë¡œ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.")
        return []


# KKMA
def extract_keywords_with_kkma(text, top_n=10):
    """
    KKMA í˜•íƒœì†Œ ë¶„ì„ê¸°ë¥¼ ì‚¬ìš©í•œ ëª…ì‚¬ í‚¤ì›Œë“œ ì¶”ì¶œ

    Args:
        text (str): í‚¤ì›Œë“œë¥¼ ì¶”ì¶œí•  í…ìŠ¤íŠ¸
        top_n (int): ë°˜í™˜í•  ìƒìœ„ í‚¤ì›Œë“œ ê°œìˆ˜

    Returns:
        list: (í‚¤ì›Œë“œ, ë¹ˆë„ìˆ˜) íŠœí”Œì˜ ë¦¬ìŠ¤íŠ¸
    """
    try:
        from konlpy.tag import Kkma

        kkma = Kkma()

        # í…ìŠ¤íŠ¸ ì „ì²˜ë¦¬
        text = text.lower()
        text = re.sub(r'[^\w\sê°€-í£]', ' ', text)

        # ë¶ˆìš©ì–´ ëª©ë¡ (ê¸°ì¡´ê³¼ ë™ì¼)
        stopwords = [
            'ì´', 'ê·¸', 'ì €', 'ê²ƒ', 'ì´ê²ƒ', 'ê·¸ê²ƒ', 'ì €ê²ƒ',
            'ë‚˜', 'ë„ˆ', 'ìš°ë¦¬', 'ë‹¹ì‹ ', 'ê·¸ë“¤', 'ì €í¬', 'ìê¸°',
            'ì´ëŸ°', 'ê·¸ëŸ°', 'ì €ëŸ°', 'ì´ë ‡ê²Œ', 'ê·¸ë ‡ê²Œ', 'ì €ë ‡ê²Œ',
            'ë°', 'ì—', 'ì˜', 'ì„', 'ë¥¼', 'ì´', 'ê°€', 'ì€', 'ëŠ”',
            'ë¡œ', 'ìœ¼ë¡œ', 'ì—ì„œ', 'ì—ê²Œ', 'í•œí…Œ', 'ê»˜', 'ì™€', 'ê³¼',
            'ì´ë‚˜', 'ë‚˜', 'ë‘', 'í•˜ê³ ', 'ê¹Œì§€', 'ë¶€í„°', 'ë„', 'ë§Œ',
            'ë°', 'ê°™ì€', 'ê°™ì´', 'ì²˜ëŸ¼', 'ë³´ë‹¤', 'ë¼ê³ ', 'í•˜ë‹¤', 'ì„',
            'ìˆë‹¤', 'ì—†ë‹¤', 'ë˜ë‹¤', 'í•˜ë‹¤', 'ë•Œë¬¸', 'ë•Œ', 'ë‚´', 'ê·¸ëƒ¥'
        ]

        # ëª…ì‚¬ ì¶”ì¶œ
        nouns = kkma.nouns(text)

        # í•„í„°ë§
        filtered_nouns = [noun for noun in nouns if noun not in stopwords and len(noun) > 1]

        # ë¹ˆë„ìˆ˜ ê³„ì‚°
        noun_counter = Counter(filtered_nouns)
        return noun_counter.most_common(top_n)

    except ImportError:
        print("konlpy ë˜ëŠ” KKMAê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•ŠìŠµë‹ˆë‹¤. pip install konlpyë¡œ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.")
        return []